this porgram will deadlock. Do not use.